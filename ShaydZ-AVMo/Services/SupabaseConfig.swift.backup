import Foundation

/// Supabase configuration settings
struct SupabaseConfig {
    /// Your Supabase project URL
    /// For demo purposes, we'll use a local mock endpoint
    /// Replace with your actual Supabase project URL
    static let supabaseURL = ProcessInfo.processInfo.environment["SUPABASE_URL"] ?? "http://localhost:8080"
    
    /// Your Supabase anon/public key
    /// For demo purposes, we'll use a mock key
    /// Replace with your actual Supabase anon key
    static let supabaseAnonKey = ProcessInfo.processInfo.environment["SUPABASE_ANON_KEY"] ?? "demo_key_123"
    
    /// API endpoints
    static var authURL: String {
        return "\(supabaseURL)/auth/v1"
    }
    
    static var restURL: String {
        return "\(supabaseURL)/rest/v1"
    }
    
    static var realtimeURL: String {
        return "\(supabaseURL)/realtime/v1"
    }
    
    /// Headers for API requests
    static var defaultHeaders: [String: String] {
        return [
            "apikey": supabaseAnonKey,
            "Authorization": "Bearer \(supabaseAnonKey)",
            "Content-Type": "application/json",
            "Prefer": "return=minimal"
        ]
    }
    
    /// Headers for authenticated requests
    static func authHeaders(token: String) -> [String: String] {
        var headers = defaultHeaders
        headers["Authorization"] = "Bearer \(token)"
        return headers
    }
}
